{% extends "base.html" %}
{% load static %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'donations/css/donation.css' %}">
{% endblock %}

{% block extra_js %}
    <script src="{% static 'donations/js/stripe_elements.js' %}"></script>
{% endblock %}

{% block page_header %}
    <div class="container header-container">
        <div class="row">
            <div class="col"></div>
        </div>
    </div>
{% endblock %}

{% block content %}
<div class="overlay"></div>
<div class="container mb-2">
    <div class="row">
        <div class="col">
            <h2 class="logo-font mb-4 text-center donate-header">Donation Form</h2>
        </div>
    </div>

    {% load crispy_forms_tags %}

    <h1 class="text-center">{% if cat %}Donate for {{ cat.name }}{% else %}Make a Donation{% endif %}</h1>

    <form action="{% url 'charge' %}" method="POST" id="payment-form">
        {% csrf_token %}

        {% if cat %}
            <input type="hidden" name="cat_id" value="{{ cat.id }}">
        {% endif %}

        <div class="form-field-12">
            <label for="amount">Choose Amount:</label>
            <br>
            <br>
            <select required name="amount" id="amount">
              <option selected value="5">£5 - This can provide specialist milk for a kitten for 10 days</option>
              <option value="10">£10 - This can provide food for one of our rescue cats for 50 days</option>
              <option value="20">£20 - This amount can provide warm blankets to 10 cats</option>
              <option value="30">£30 - With this we can provide lots of stimulating toys to keep our cats happy</option>
              <option value="50">£50 - This incredible amount will pay for a cats full healthcheck including parasite treatments & vaccinations</option>
            </select>
        </div>

        <div class="form-field-12"></div>
            <label for="custom-amount">Enter Custom Amount:</label>
            <br>
            <br>
            <input type="number" name="custom-amount" placeholder="Enter custom donation amount here" min="1">
        </div>

        <fieldset class="rounded px-3 mb-5">
            <legend class="fieldset-label small text-black px-2 w-auto">Customer Details</legend>
                <input type="text" name="first_name" placeholder="First Name" required>
                <input type="text" name="last_name" placeholder="Last Name" required>
                <input type="email" name="email" placeholder="Email Address" required>
        </fieldset>

        <div class="form-row">
            <label for="card-element">
              Credit or debit card
            </label>
        <div id="card-element">
            <!-- A Stripe Element will be inserted here. -->
        </div>

        <!-- Used to display form errors. -->
        <div id="card-errors" role="alert"></div>
        </div>

        <button>Submit Payment</button>
    </form>
    
{% endblock %}